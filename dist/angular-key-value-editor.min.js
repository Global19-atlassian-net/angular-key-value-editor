!function(){"use strict";angular.module("key-value-editor",["as.sortable"])}(),function(){"use strict";angular.module("key-value-editor").directive("keyValueEditor",[function(){var e=function(e){e&&e.push({name:"",value:""})},n=function(e){return e[e.length-1]},t=function(e,n){return e&&e[n]};return{restrict:"AE",scope:{entries:"=?",keyPlaceholder:"@",valuePlaceholder:"@",keyValidator:"@",valueValidator:"@",keyValidatorError:"@",valueValidatorError:"@",cannotAdd:"=?",cannotDelete:"=?",cannotSort:"=?",isReadonly:"=?"},link:function(o,r,a){o.entries=o.entries||[],"cannotAdd"in a&&(o.cannotAdd=!0),"cannotDelete"in a&&(o.cannotDelete=!0),"isReadonly"in a&&(o.isReadonly=!0),"cannotSort"in a&&(o.cannotSort=!0),o.cannotAdd||o.isReadonly||""===t(n(o.entries),"name")||e(o.entries)},controller:["$scope",function(n){n.onFocusLast=function(){n.cannotAdd||n.isReadonly||e(n.entries)},n.deleteEntry=function(e,t){n.entries.splice(e,t)},n.dragControlListeners={accept:function(e,n){return e.itemScope.sortableScope.$id===n.$id},orderChanged:function(e){e.dest.index!==e.dest.sortableScope.modelValue.length-1||n.cannotAdd||(e.dest.sortableScope.removeItem(e.dest.index),e.source.itemScope.sortableScope.insertItem(e.source.index,e.source.itemScope.modelValue))}}}],templateUrl:"key-value-editor.html"}}])}();