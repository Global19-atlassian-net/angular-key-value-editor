!function(){"use strict";angular.module("key-value-editor",["as.sortable"])}(),function(){"use strict";angular.module("key-value-editor").directive("keyValueEditor",["$compile","$templateCache","keyValueEditorConfig","keyValueEditorUtils",function(e,t,n,a){var r=a.last,o=a.get,l=function(e){e&&e.push({name:"",value:""})};return{restrict:"AE",scope:{keyMinlength:"@",keyMaxlength:"@",valueMinlength:"@",valueMaxlength:"@",entries:"=?",keyPlaceholder:"@",valuePlaceholder:"@",keyValidator:"@",valueValidator:"@",keyValidatorError:"@",valueValidatorError:"@",cannotAdd:"=?",cannotDelete:"=?",cannotSort:"=?",isReadonly:"=?"},link:function(a,r,o){var l=t.get("key-value-editor.html");a.entries=a.entries||[],"cannotAdd"in o&&(a.cannotAdd=!0),"cannotDelete"in o&&(a.cannotDelete=!0),"isReadonly"in o&&(a.isReadonly=!0),"cannotSort"in o&&(l=l.replace(/as-sortable/g,"as-sortable-DISABLED"),a.cannotSort=!0),a.keyMinlength=n.keyMinlength||o.keyMinlength,a.keyMaxlength=n.keyMaxlength||o.keyMaxlength,a.valueMinlength=n.valueMinlength||o.valueMinlength,a.valueMaxlength=n.valueMaxlength||o.valueMaxlength,a.keyValidator=n.keyValidator||o.keyValidator,a.valueValidatorError=n.valueValidatorError||o.valueValidatorError,a.keyValidatorError=n.keyValidatorError||o.keyValidatorError,a.valueValidatorError=n.valueValidatorError||o.valueValidatorError,r.append(e(l)(a))},controller:["$scope",function(e){e.$watch("entries",function(){e.cannotAdd||""===o(r(e.entries),"name")||l(e.entries)}),e.onFocusLast=function(){e.cannotAdd||e.isReadonly||l(e.entries)},e.deleteEntry=function(t,n){e.entries.splice(t,n)},e.dragControlListeners={accept:function(e,t){return e.itemScope.sortableScope.$id===t.$id},orderChanged:function(t){t.dest.index!==t.dest.sortableScope.modelValue.length-1||e.cannotAdd||(t.dest.sortableScope.removeItem(t.dest.index),t.source.itemScope.sortableScope.insertItem(t.source.index,t.source.itemScope.modelValue))}}}]}}])}(),function(){"use strict";angular.module("key-value-editor").provider("keyValueEditorConfig",[function(){var e={keyMinlength:"",keyMaxlength:"",valueMinlength:"",valueMaxlength:"",keyValidator:"[a-zA-Z0-9-_]+",valueValidator:"",keyValidatorError:void 0,valueValidatorError:void 0};this.set=function(t,n){angular.isObject(t)?angular.extend(e,t):e[t]=n},this.$get=[function(){return e}]}])}(),function(){"use strict";angular.module("key-value-editor").factory("keyValueEditorUtils",[function(){var e=function(e,t,n){for(var a=0;a<e.length;a++)n=t(n,e[a],a,e);return n},t=function(t){return e(t,function(e,t){return t.length&&e.push(t),e},[])},n=function(e){return e[e.length-1]},a=function(e,t){return e&&e[t]};return{compact:t,last:n,get:a}}])}();