!function(){"use strict";angular.module("key-value-editor",["as.sortable"])}(),function(){"use strict";angular.module("key-value-editor").directive("keyValueEditor",[function(){var e=function(e){e.push({name:"",value:""})},n=function(e){return e[e.length-1]};return{restrict:"AE",scope:{pairs:"=?",keyPlaceholder:"@",valuePlaceholder:"@",cannotAdd:"=?",cannotDelete:"=?",cannotSort:"=?",isReadonly:"=?"},link:function(t,o,a){t.pairs=t.pairs||[],"cannotAdd"in a&&(t.cannotAdd=!0),"cannotDelete"in a&&(t.cannotDelete=!0),"isReadonly"in a&&(t.isReadonly=!0),"cannotSort"in a&&(t.cannotSort=!0),t.cannotAdd||""===n(t.pairs).name||e(t.pairs)},controller:["$scope",function(n){n.onFocusLast=function(t,o){n.cannotAdd||e(n.pairs)},n.deletePair=function(e,t){n.pairs.splice(e,t)},n.dragControlListeners={accept:function(e,n){return e.itemScope.sortableScope.$id===n.$id},orderChanged:function(e){e.dest.index!==e.dest.sortableScope.modelValue.length-1||n.cannotAdd||(e.dest.sortableScope.removeItem(e.dest.index),e.source.itemScope.sortableScope.insertItem(e.source.index,e.source.itemScope.modelValue))}}}],templateUrl:"key-value-editor.html"}}])}();