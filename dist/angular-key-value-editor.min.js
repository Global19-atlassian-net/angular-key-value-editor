!function(){"use strict";angular.module("key-value-editor",["as.sortable"])}(),function(){"use strict";angular.module("key-value-editor").directive("keyValueEditorFocus",["$timeout",function(e){return{restrict:"A",link:function(r,o){e(function(){o&&o[0].focus()})}}}]).directive("keyValueEditorAfterRender",["$timeout",function(e){return{restrict:"A",terminal:!0,scope:{afterRender:"&afterRender"},link:function(r){r.afterRender=r.afterRender||function(){},e(r.afterRender,0)}}}]).directive("keyValueEditor",["$compile","$log","$templateCache","$timeout","$window","keyValueEditorConfig","keyValueEditorUtils",function(e,r,o,t,a,n,l){var i=l.first,u=l.contains,c=l.each,d=function(e){e&&e.push({name:"",value:""})},s=function(e){t(function(){var r=i(a.document.querySelectorAll(e));r&&r.focus()})};return{restrict:"AE",scope:{keyMinlength:"@",keyMaxlength:"@",valueMinlength:"@",valueMaxlength:"@",entries:"=",keyPlaceholder:"@",valuePlaceholder:"@",keyValidator:"@",keyValidatorRegex:"=",valueValidator:"@",valueValidatorRegex:"=",keyValidatorError:"@",keyValidatorErrorTooltip:"@",keyValidatorErrorTooltipIcon:"@",valueValidatorError:"@",valueValidatorErrorTooltip:"@",valueValidatorErrorTooltipIcon:"@",secretValueTooltip:"@",secretValueIcon:"@",cannotAdd:"=?",cannotSort:"=?",cannotDelete:"=?",isReadonly:"=?",isReadonlyKeys:"=?"},link:function(r,t,a){var l,i=o.get("key-value-editor.html");r.validation={key:r.keyValidator,val:r.valueValidator},a.keyValidatorRegex&&(r.validation.key=r.keyValidatorRegex),a.valueValidatorRegex&&(r.validation.val=r.valueValidatorRegex),"cannotAdd"in a&&(r.cannotAdd=!0),"cannotDelete"in a&&(r.cannotDeleteAny=!0),"isReadonly"in a&&(r.isReadonlyAny=!0),"isReadonlyKeys"in a&&(l=r.$watch("entries",function(e){e&&(c(r.entries,function(e){e.isReadonlyKey=!0}),l())})),"cannotSort"in a&&(i=i.replace(/as-sortable/g,"as-sortable-DISABLED"),r.cannotSort=!0),r.keyMinlength=n.keyMinlength||a.keyMinlength,r.keyMaxlength=n.keyMaxlength||a.keyMaxlength,r.valueMinlength=n.valueMinlength||a.valueMinlength,r.valueMaxlength=n.valueMaxlength||a.valueMaxlength,r.keyValidator=n.keyValidator||a.keyValidator,r.valueValidator=n.valueValidator||a.valueValidator,r.keyValidatorError=n.keyValidatorError||a.keyValidatorError,r.valueValidatorError=n.valueValidatorError||a.valueValidatorError,r.keyValidatorErrorTooltip=n.keyValidatorErrorTooltip||a.keyValidatorErrorTooltip,r.keyValidatorErrorTooltipIcon=n.keyValidatorErrorTooltipIcon||a.keyValidatorErrorTooltipIcon,r.valueValidatorErrorTooltip=n.valueValidatorErrorTooltip||a.valueValidatorErrorTooltip,r.valueValidatorErrorTooltipIcon=n.valueValidatorErrorTooltipIcon||a.valueValidatorErrorTooltipIcon,r.secretValueTooltip=n.secretValueTooltip||a.secretValueTooltip,r.secretValueIcon=n.secretValueIcon||a.secretValueIcon,r.keyPlaceholder=n.keyPlaceholder||a.keyPlaceholder,r.valuePlaceholder=n.valuePlaceholder||a.valuePlaceholder,t.append(e(i)(r))},controller:["$scope",function(e){e.forms={};var r=[],o=[],t="key-value-editor-set-focus-"+Date.now();e.setFocusClass=t,e.onFocusLast=function(){e.cannotAdd||e.isReadonly||(d(e.entries),s("."+t))},e.deleteEntry=function(r,o){e.entries.splice(r,o),e.forms.keyValueEditor.$setDirty()},e.dragControlListeners={accept:function(e,r){return e.itemScope.sortableScope.$id===r.$id},orderChanged:function(){e.forms.keyValueEditor.$setDirty()}},e.$watch("cannotDelete",function(r){angular.isArray(r)&&(e.cannotDeleteAny=!1,o=r)}),e.$watch("isReadonly",function(o){angular.isArray(o)&&(e.isReadonlyAny=!1,r=o)}),e.isReadonlySome=function(e){return u(r,e)},e.cannotDeleteSome=function(e){return u(o,e)}}]}}])}(),function(){"use strict";angular.module("key-value-editor").provider("keyValueEditorConfig",[function(){var e={keyMinlength:"",keyMaxlength:"",valueMinlength:"",valueMaxlength:"",keyValidator:"[a-zA-Z0-9-_]+",valueValidator:"",keyValidatorError:void 0,keyValidatorErrorTooltip:void 0,keyValidatorErrorTooltipIcon:"pficon pficon-help",valueValidatorError:void 0,valueValidatorErrorTooltip:void 0,valueValidatorErrorTooltipIcon:"pficon pficon-help",secretValueTooltip:void 0,secretValueIcon:"fa fa-user-secret",keyPlaceholder:"",valuePlaceholder:""};this.set=function(r,o){angular.isObject(r)?angular.extend(e,r):e[r]=o},this.$get=[function(){return e}]}])}(),function(){"use strict";angular.module("key-value-editor").factory("keyValueEditorUtils",[function(){var e=function(e,r,o){for(var t=e&&e.length||0,a=0;t>a;a++)o=r(o,e[a],a,e);return o},r=function(e,r){for(var o=e&&e.length||0,t=0;o>t;t++)r(e[t],t,e)},o=function(e,r){for(var o=e&&e.length||0,t=[],a=0;o>a;a++)t.push(r(e[a],a,e));return t},t=function(r){return e(r,function(e,r){return r&&e.push(r),e},[])},a=function(e,r){return-1!==e.indexOf(r)},n=function(e){return e&&e[e.length-1]},l=function(e){return e&&e[0]},i=function(e,r){return e&&e[r]},u=function(e){return t(o(e,function(e){return e.name&&e.value?e:void 0}))},c=function(r){return e(u(r),function(e,r){return e[r.name]=r.value,e},{})};return{each:r,reduce:e,compact:t,contains:a,first:l,last:n,get:i,compactEntries:u,mapEntries:c}}])}();