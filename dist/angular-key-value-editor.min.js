!function(){"use strict";angular.module("key-value-editor",["as.sortable"])}(),function(){"use strict";angular.module("key-value-editor").directive("keyValueEditorFocus",["$timeout",function(e){return{restrict:"A",link:function(o,r,t){t.keyValueEditorFocus&&e(function(){r&&r[0].focus()})}}}]).directive("keyValueEditorAfterRender",["$timeout",function(e){return{restrict:"A",terminal:!0,scope:{afterRender:"&afterRender"},link:function(o){o.afterRender=o.afterRender||function(){},e(o.afterRender,0)}}}]).directive("keyValueEditor",["$compile","$log","$templateCache","$timeout","$window","keyValueEditorConfig","keyValueEditorUtils",function(e,o,r,t,a,n,l){var i=l.first,u=l.contains,c=l.each,d=1e3,s=function(e,o){e&&e.push(o||{name:"",value:""})},y=function(e,o){t(function(){var r=i(a.document.querySelectorAll(e));r&&(r.focus(),o&&(r.value=o))})};return{restrict:"AE",scope:{keyMinlength:"@",keyMaxlength:"@",valueMinlength:"@",valueMaxlength:"@",entries:"=",keyPlaceholder:"@",valuePlaceholder:"@",keyValidator:"@",keyValidatorRegex:"=",valueValidator:"@",valueValidatorRegex:"=",keyValidatorError:"@",keyValidatorErrorTooltip:"@",keyValidatorErrorTooltipIcon:"@",valueValidatorError:"@",valueValidatorErrorTooltip:"@",valueValidatorErrorTooltipIcon:"@",secretValueTooltip:"@",secretValueIcon:"@",cannotAdd:"=?",cannotSort:"=?",cannotDelete:"=?",isReadonly:"=?",isReadonlyKeys:"=?"},link:function(o,a,l){var i,u=r.get("key-value-editor.html");o.validation={key:o.keyValidator,val:o.valueValidator},l.keyValidatorRegex&&(o.validation.key=o.keyValidatorRegex),l.valueValidatorRegex&&(o.validation.val=o.valueValidatorRegex),"grabFocus"in l&&(o.grabFocus=!0,t(function(){o.grabFocus=void 0})),"cannotAdd"in l&&(o.cannotAdd=!0),"cannotDelete"in l&&(o.cannotDeleteAny=!0),"isReadonly"in l&&(o.isReadonlyAny=!0),"isReadonlyKeys"in l&&(i=o.$watch("entries",function(e){e&&(c(o.entries,function(e){e.isReadonlyKey=!0}),i())})),"cannotSort"in l&&(u=u.replace(/as-sortable/g,"as-sortable-DISABLED"),o.cannotSort=!0),o.keyMinlength=n.keyMinlength||l.keyMinlength,o.keyMaxlength=n.keyMaxlength||l.keyMaxlength,o.valueMinlength=n.valueMinlength||l.valueMinlength,o.valueMaxlength=n.valueMaxlength||l.valueMaxlength,o.keyValidator=n.keyValidator||l.keyValidator,o.valueValidator=n.valueValidator||l.valueValidator,o.keyValidatorError=n.keyValidatorError||l.keyValidatorError,o.valueValidatorError=n.valueValidatorError||l.valueValidatorError,o.keyValidatorErrorTooltip=n.keyValidatorErrorTooltip||l.keyValidatorErrorTooltip,o.keyValidatorErrorTooltipIcon=n.keyValidatorErrorTooltipIcon||l.keyValidatorErrorTooltipIcon,o.valueValidatorErrorTooltip=n.valueValidatorErrorTooltip||l.valueValidatorErrorTooltip,o.valueValidatorErrorTooltipIcon=n.valueValidatorErrorTooltipIcon||l.valueValidatorErrorTooltipIcon,o.secretValueTooltip=n.secretValueTooltip||l.secretValueTooltip,o.secretValueIcon=n.secretValueIcon||l.secretValueIcon,o.keyPlaceholder=n.keyPlaceholder||l.keyPlaceholder,o.valuePlaceholder=n.valuePlaceholder||l.valuePlaceholder,a.append(e(u)(o))},controller:["$scope","$timeout",function(e,o){e.forms={};var r=[],t=[],a="key-value-editor-set-focus-"+d++;e.setFocusKeyClass=a+"-key",e.setFocusValClass=a+"-val",e.onFocusLast=function(){e.cannotAdd||e.isReadonlyAny||(s(e.entries),y("."+a))},e.onKeypressLastKey=function(r){s(e.entries,{name:r.key,value:""}),y("."+e.setFocusKeyClass,r.key),o(function(){r.target.value=""})},e.onKeypressLastValue=function(r){s(e.entries,{name:"",value:r.key}),y("."+e.setFocusValClass,r.key),o(function(){r.target.value=""})},e.deleteEntry=function(o,r){e.entries.splice(o,r),e.forms.keyValueEditor.$setDirty()},e.dragControlListeners={accept:function(e,o){return e.itemScope.sortableScope.$id===o.$id},orderChanged:function(){e.forms.keyValueEditor.$setDirty()}},e.$watch("cannotDelete",function(o){angular.isArray(o)&&(e.cannotDeleteAny=!1,t=o)}),e.$watch("isReadonly",function(o){angular.isArray(o)&&(e.isReadonlyAny=!1,r=o)}),e.isReadonlySome=function(e){return u(r,e)},e.cannotDeleteSome=function(e){return u(t,e)}}]}}])}(),function(){"use strict";angular.module("key-value-editor").provider("keyValueEditorConfig",[function(){var e={keyMinlength:"",keyMaxlength:"",valueMinlength:"",valueMaxlength:"",keyValidator:"[a-zA-Z0-9-_]+",valueValidator:"",keyValidatorError:void 0,keyValidatorErrorTooltip:void 0,keyValidatorErrorTooltipIcon:"pficon pficon-help",valueValidatorError:void 0,valueValidatorErrorTooltip:void 0,valueValidatorErrorTooltipIcon:"pficon pficon-help",secretValueTooltip:void 0,secretValueIcon:"fa fa-user-secret",keyPlaceholder:"",valuePlaceholder:""};this.set=function(o,r){angular.isObject(o)?angular.extend(e,o):e[o]=r},this.$get=[function(){return e}]}])}(),function(){"use strict";angular.module("key-value-editor").factory("keyValueEditorUtils",[function(){var e=function(e,o,r){for(var t=e&&e.length||0,a=0;t>a;a++)r=o(r,e[a],a,e);return r},o=function(e,o){for(var r=e&&e.length||0,t=0;r>t;t++)o(e[t],t,e)},r=function(e,o){for(var r=e&&e.length||0,t=[],a=0;r>a;a++)t.push(o(e[a],a,e));return t},t=function(o){return e(o,function(e,o){return o&&e.push(o),e},[])},a=function(e,o){return-1!==e.indexOf(o)},n=function(e){return e&&e[e.length-1]},l=function(e){return e&&e[0]},i=function(e,o){return e&&e[o]},u=function(e){return t(r(e,function(e){return e.name&&e.value?e:void 0}))},c=function(o){return e(u(o),function(e,o){return e[o.name]=o.value,e},{})};return{each:o,reduce:e,compact:t,contains:a,first:l,last:n,get:i,compactEntries:u,mapEntries:c}}])}();